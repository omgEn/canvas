<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title></title>
	</head>
	<body onload="draw()">
		<canvas id="demo" width="600" height="600">
			你的浏览器不支持canvas，请升级浏览器
		</canvas>
		<script>
			var canvas = document.querySelector('#demo');
			var ctx = canvas.getContext('2d');
			canvas.width = 600;
			canvas.height = 600;
			canvas.style.border = '1px solid #000';

			function draw() {
				ctx.fillRect(0, 0, 150, 150)
				ctx.save()

				ctx.fillStyle = '#09F'
				ctx.fillRect(15, 15, 120, 120);

				ctx.save();
				ctx.fillStyle = '#FFF' // 再次改变颜色配置
				ctx.globalAlpha = 0.5;
				ctx.fillRect(30, 30, 90, 90);
				ctx.restore(); // 需要restore才能生效 还原到上一次save之前的属性

				ctx.fillRect(45, 45, 60, 60);
				ctx.restore();
				ctx.fillRect(60, 60, 30, 30);

			}
		</script>
	</body>
</html>
